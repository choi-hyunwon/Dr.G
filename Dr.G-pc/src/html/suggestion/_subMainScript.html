<script>
    $(document).ready(function () {
        // slider
        // https://swiperjs.com/swiper-api
        new Swiper(".suggestion-slider", {
            effect: 'fade',
            pagination: {
                el: ".swiper-pagination",
            }
        });

        // masonry layout
        // https://masonry.desandro.com/options.html
        // setTimeout(function (){
        //     $('._subjectList').masonry({
        //         itemSelector: '._subjectList .item',
        //         columnWidth: '._subjectList .item',
        //         gutter: 30,
        //         percentPosition: false,
        //         horizontalOrder: true
        //     });
        // },100)
        //
        // var subjectList = $('._subjectList').masonry({
        //     itemSelector: '._subjectList .item',
        //     columnWidth: '._subjectList .item',
        //     gutter: 30,
        //     percentPosition: false,
        //     horizontalOrder: true
        // });

        $('._tab a').on('click', function () {
            subjectList.masonry('layout');
        });

        // filter tab click event
        $('._filterTab a').on('click', function () {
            $(this).addClass('active').siblings().removeClass('active')
        })

        // like button click event
        $('._likeBtn').on('click', function () {
            let number = Number($(this).children('.num').text())

            if ($(this).parent().hasClass('on')) {
                $(this).parent().removeClass('on')
                $(this).children('.num').text(number - 1)
            } else {
                $(this).parent().addClass('on')
                $(this).children('.num').text(number + 1)
            }
        })

    })

    // 렌더링 후 함수 추가 요청 -- 2022.03.15
    function setGrid(){
        $('._subjectList').masonry({
            itemSelector: '._subjectList .item',
            columnWidth: '._subjectList .item',
            gutter: 30,
            percentPosition: false,
            horizontalOrder: true
        });
    }
</script>
