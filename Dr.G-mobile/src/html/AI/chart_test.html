<!DOCTYPE html>
<html lang="ko">
@@include('../../html/include/common/head.html')
<!--<script src="https://code.jquery.com/ui/1.13.0/jquery-ui.js" integrity="sha256-xH4q8N0pEzrZMaRmd7gQVcTZiFei+HfRTBPJ1OGXC0k=" crossorigin="anonymous"></script>-->
<script src="//cdn.amcharts.com/lib/4/core.js"></script>
<script src="//cdn.amcharts.com/lib/4/charts.js"></script>
<script src="//cdn.amcharts.com/lib/4/themes/animated.js"></script>
<!--<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>-->
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@0.7.0"></script>
<!--<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>-->
<body>
<div class="wrap">
    <!-- s header -->
<!--    @@include('../../html/include/common/header.html')-->
    <!-- e header -->

    <!-- s contents -->
    <div class="container">
        <div class="AI-wrap">

            <!-- amcharts.js -->
            <div class="chart-box" id="chartWrapper">
                <div id="handler">
                    <div id="chart" class="chart"></div>
                </div>
            </div>
            <!--
                남은 사항
                 ☐ 툴팁 내 font-family가 적용된 폰트 사이즈를 인식하지 못함 -> 잘림 이슈 발생
                 ☐ 그라데이션 라인으로 컨펌날 경우 / gradient line chart
                 ☐ y축 0 ~ 20점일 경우 / 라벨 & tooltip 상단으로 이동
                 ☐ y축 그리드 20px으로 변경
                 ☐ 화면 크기에 따라 resize (vw 처리)
                 ☐ 상하단 패딩
                 ☐ 슬라이딩 이벤트 처리 (기획 확인 필요)
                 ☐ 2021-09-01 / 1일을 기준으로 x축 값 노출
            -->

            <!-- chart.js -->
<!--            <div class="chartWrapper" >-->
<!--                <div class="chartScroll">-->
<!--                    <div class="chartArea" style="width:100%;">-->
<!--                        <canvas id="lineChart"></canvas>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
        </div>
    </div>
    <!-- e contents -->

    <!-- s footer -->
<!--    @@include('../../html/include/common/footer.html')-->
    <!-- e footer -->
</div>
<script>
    // animation
    am4core.useTheme(am4themes_animated);
    var chart = am4core.create("chart", am4charts.XYChart);
    chart.data = [
        {
            "date": new Date(2021, 9, 1),
            "value": 90,
            "type": ' OS+\n'+'민지형',
        },
        {
            "date": new Date(2021, 9, 15),
            "value": 60,
            "type": ' OS+\n'+'민지형',
        },
        {
            "date": new Date(2021, 10, 5),
            "type": ' OS+\n'+'민지형',
        },
        {
            "date": new Date(2021, 10, 15),
            "value": 50,
            "type": ' OS+\n'+'민지형',
        },
        {
            "date": new Date(2021, 11, 1),
            "value": 55,
            "type": ' OS+\n'+'민지형',
        },
        {
            "date": new Date(2021, 11, 15),
            "value": 81,
            "type": '     DS-\n'+'수분민건형',
        },
        {
            "date": new Date(2021, 12, 5),
            "value": 100,
            "type": '    DN-\n'+'수분건형',
        },
        {
            "date": new Date(2021, 12, 28),
            "value": 63,
            "type": '  OS+\n'+'민지형',
        },
        {
            "date": new Date(2022, 1, 15),
            "value": 20,
            "type": '  OS+\n'+'민지형',
        }
    ];

    // Create axes
    var dateAxis = chart.xAxes.push(new am4charts.DateAxis());
    dateAxis.renderer.minGridDistance = 50;
    dateAxis.renderer.grid.template.location = 0.5;
    // dateAxis.startLocation = 0.5;
    // dateAxis.endLocation = 0.5;
    dateAxis.renderer.minLabelPosition = 0.05;
    dateAxis.renderer.maxLabelPosition = 0.95;

    // Create value axis
    var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());
    valueAxis.min = 0;
    valueAxis.max = 100;
    valueAxis.renderer.minGridDistance = 20;
    valueAxis.renderer.minLabelPosition = 2; // y축 라벨 숨기기

    // Create series
    var series = chart.series.push(new am4charts.LineSeries());
    series.dataFields.valueY = "value";
    series.dataFields.dateX = "date";
    series.strokeWidth = 3;
    series.tensionX = 0.8;

    // Create a range
    var range = dateAxis.createSeriesRange(series);
    range.date = new Date(2021, 10, 1);
    range.endDate = new Date(2021, 11, 30);
    range.contents.stroke = am4core.color("#2FCAB0");
    range.contents.fill = am4core.color("#f00");
    range.contents.fillOpacity = 0;

    var circleBullet = series.bullets.push(new am4charts.CircleBullet());
    // tooltip
    circleBullet.tooltipHTML = `<a href="#" class="number">{value}</a>`;
    circleBullet.showTooltipOn = "always";
    series.tooltip.label.interactionsEnabled = true;
    series.tooltip.keepTargetHover = true;
    chart.tooltip.getFillFromObject = false;
    series.tooltip.pointerOrientation = "down";
    series.tooltip.background.fill = am4core.color("red");
    series.tooltip.label.fill = am4core.color("red");

    // tooltip round
    series.tooltip.background.cornerRadius = 100;
    series.tooltip.background.strokeOpacity = 0;
    series.tooltip.label.minWidth = 36;
    series.tooltip.label.minHeight = 30;
    series.tooltip.label.textAlign = "middle";
    series.tooltip.label.textValign = "middle";

    // tooltip shadow
    var shadow = series.tooltip.background.filters.getIndex(0);
    shadow.dx = 4;
    shadow.dy = 8;
    shadow.blur = 12;
    shadow.opacity = 0.12;
    shadow.color = am4core.color("#222");

    // bullet
    var bullet = series.bullets.push(new am4charts.CircleBullet());
    bullet.circle.fill = am4core.color("#2FCAB0");
    bullet.circle.stroke = am4core.color("#fff");
    bullet.circle.strokeWidth = 4;

    // bullet text
    var labelBullet = series.bullets.push(new am4charts.LabelBullet());
    labelBullet.label.text = "{type}";
    labelBullet.label.dy = 30;
    labelBullet.label.align = "center";
    labelBullet.label.valign = "middle";
</script>
<!--<script>-->
<!--    window.chartColors = {-->
<!--        red: 'rgb(255, 99, 132)',-->
<!--        orange: 'rgb(255, 159, 64)',-->
<!--        yellow: 'rgb(255, 205, 86)',-->
<!--        green: 'rgb(75, 192, 192)',-->
<!--        blue: 'rgb(54, 162, 235)',-->
<!--        purple: 'rgb(153, 102, 255)',-->
<!--        grey: 'rgb(231,233,237)'-->
<!--    };-->

<!--    var randomScalingFactor = function() {-->
<!--        return (Math.random() > 0.5 ? 1.0 : 1.0) * Math.round(Math.random() * 100);-->
<!--    };-->

<!--    var line1 = [0, 20, 30, 50, 60, NaN, NaN, NaN, NaN, NaN, NaN, NaN];-->
<!--    var line2 = [NaN, NaN, NaN, NaN, 60, 20, 40, 80, 100, NaN, NaN, NaN];-->
<!--    var line3 = [NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 100, 25, 5, 60];-->

<!--    var Days = [-->
<!--        "2021-08-01",-->
<!--        "2021-08-15",-->
<!--        "2021-09-01",-->
<!--        "2021-09-15",-->
<!--        "2021-10-01",-->
<!--        "2021-10-15",-->
<!--        "2021-11-01",-->
<!--        "2021-11-15",-->
<!--        "2021-12-01",-->
<!--        "2021-12-15",-->
<!--    ];-->

<!--    var config = {-->
<!--        type: 'line',-->
<!--        data: {-->
<!--            labels: Days,-->
<!--            legend: {-->
<!--                display: false-->
<!--            },-->
<!--            datasets: [{-->
<!--                label: 'Cubic interpolation (monotone)',-->
<!--                data: [0, 20, 30, 50, 60, NaN, NaN, NaN, NaN, NaN, NaN, NaN],-->
<!--                pointRadius: 0,-->
<!--                borderColor: window.chartColors.red,-->
<!--                backgroundColor: window.chartColors.red,-->
<!--                fill: false,-->
<!--                cubicInterpolationMode: 'monotone'-->
<!--            }, {-->
<!--                label: 'Cubic interpolation (default)',-->
<!--                data: [NaN, NaN, NaN, NaN, 60, 20, 40, 80, 100, NaN, NaN, NaN],-->
<!--                borderColor: window.chartColors.blue,-->
<!--                backgroundColor: 'red',-->
<!--                pointBorderWidth: '8',-->
<!--                pointBackgroundColor: '#2FCAB0',-->
<!--                pointBorderColor: '#fff',-->
<!--                fill: false,-->
<!--                pointRadius: '12',-->
<!--                cubicInterpolationMode: 'monotone',-->
<!--            }, {-->
<!--                display: false,-->
<!--                label: 'Linear interpolation',-->
<!--                data: [NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 100, 25, 5, 60],-->
<!--                pointRadius: 0,-->
<!--                borderColor: window.chartColors.green,-->
<!--                backgroundColor: window.chartColors.green,-->
<!--                fill: false,-->
<!--                cubicInterpolationMode: 'monotone'-->
<!--            }]-->
<!--        },-->
<!--        options: {-->
<!--            showTooltips: true,-->
<!--            hover: {-->
<!--                mode: null-->
<!--            },-->
<!--            legend: {-->
<!--                display: false-->
<!--            },-->
<!--            tooltips: {-->
<!--                enabled: false-->
<!--            },-->
<!--            responsive: true,-->
<!--            title:{-->
<!--                display:false-->
<!--            },-->
<!--            scales: {-->
<!--                xAxes: [{-->
<!--                    display: true,-->
<!--                    scaleLabel: {-->
<!--                        display: false,-->
<!--                        labelString: 'Month'-->
<!--                    }-->
<!--                }],-->
<!--                yAxes: [{-->
<!--                    display: true,-->
<!--                    scaleLabel: {-->
<!--                        display: true,-->
<!--                    },-->
<!--                    ticks: {-->
<!--                        display: false,-->
<!--                        beginAtZero: false,-->
<!--                        min: 0,-->
<!--                        max: 100,-->
<!--                        stepSize: 20,-->
<!--                        offsetGridLines: true,-->
<!--                    },-->
<!--                }]-->
<!--            },-->
<!--            plugins: {-->
<!--                datalabels: {-->
<!--                    align: 'end',-->
<!--                    anchor: 'end',-->
<!--                    backgroundColor: function(context) {-->
<!--                        return context.dataset.backgroundColor;-->
<!--                    },-->
<!--                    borderRadius: 100,-->
<!--                    color: 'white',-->
<!--                    font: function(context) {-->
<!--                        var w = context.chart.width;-->
<!--                        return {-->
<!--                            size: w < 512 ? 12 : 14,-->
<!--                            weight: 'bold',-->
<!--                        };-->
<!--                    },-->
<!--                    formatter: Math.round,-->
<!--                    padding: 6-->
<!--                }-->
<!--            },-->
<!--        }-->
<!--    };-->

<!--    var ctx = document.getElementById("lineChart").getContext("2d");-->
<!--    var myLine = new Chart(ctx, config);-->
<!--</script>-->
</body>
</html>
