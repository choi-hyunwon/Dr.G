<!DOCTYPE html>
<html lang="ko">
@@include('../../html/include/common/head.html')
<body>
<div class="wrap">
    <!-- s header -->
        @@include('../../html/include/common/header.html')
    <!-- e header -->

    <!-- s contents -->
    <div class="container">
        <div class="AI-wrap">
            <div class="sub-main">
                <div class="tab _scrollTabWrap">
                    <ul class="_scrollTab">
                        <li class="item"><a class="active" href="#section1">WHAT</a></li>
                        <li class="item"><a href="#section2">HOW</a></li>
                        <li class="item"><a href="#section3">STORY</a></li>
                        <li class="item"><a href="#section4">WHY</a></li>
                        <li class="item"><a href="#section5">PROCESS</a></li>
                        <li class="item"><a href="#section6">REVIEW</a></li>
                        <li class="item"><a href="#section7">FAQ</a></li>
                    </ul>
                </div>
                <div class="section-wrap">
                    <div class="section" id="section1">
                        <div class="what">
                            <div class="heading">
                                <div class="font-h2 font-bold" data-aos="fade-up" data-aos-duration="700"
                                     data-aos-delay="0">나는 <span class="color-primary">어떤 피부 유형</span>일까?
                                </div>
                                <div class="font-h6" data-aos="fade-up" data-aos-duration="700" data-aos-delay="200">
                                    바른 피부 관리를 위해서는 <span class="font-bold">피부를 바르게<br/>
                                아는 것이 중요</span>해요.<br/>
                                    닥터지가 제안하는 8가지 피부 유형을<br/>
                                    선택해 확인해보세요.
                                </div>
                            </div>
                            <div class="showcase-wrap">
                                <div class="showcase carousel _showCase">
                                    <div class="item item-1 _showCaseItem" onclick="showCase(0)"><img src="../../img/common/skinType/OS+.png"><span class="dim"></span><span class="shadow"></span></div>
                                    <div class="item item-2 _showCaseItem" onclick="showCase(7)"><img src="../../img/common/skinType/OS-.png"><span class="dim"></span><span class="shadow"></span></div>
                                    <div class="item item-3 _showCaseItem" onclick="showCase(6)"><img src="../../img/common/skinType/ON+.png"><span class="dim"></span><span class="shadow"></span></div>
                                    <div class="item item-4 _showCaseItem" onclick="showCase(5)"><img src="../../img/common/skinType/ON-.png"><span class="dim"></span><span class="shadow"></span></div>
                                    <div class="item item-5 _showCaseItem" onclick="showCase(4)"><img src="../../img/common/skinType/DS-.png"><span class="dim"></span><span class="shadow"></span></div>
                                    <div class="item item-6 _showCaseItem" onclick="showCase(3)"><img src="../../img/common/skinType/DS+.png"><span class="dim"></span><span class="shadow"></span></div>
                                    <div class="item item-7 _showCaseItem" onclick="showCase(2)"><img src="../../img/common/skinType/DN+.png"><span class="dim"></span><span class="shadow"></span></div>
                                    <div class="item item-8 _showCaseItem" onclick="showCase(1)"><img src="../../img/common/skinType/DN-.png"><span class="dim"></span><span class="shadow"></span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="section" id="section2">
                        <div class="how">
                            <div class="title">
                                피부 건강<br/>
                                <span class="color-primary">어떻게 관리</span>하나요?
                            </div>
                            <div class="font-h6">
                                건강한 피부를 결정하는 요소는<br/>
                                생각보다 단순하지 않습니다.<br/>
                                우리에게 보다 적합한 피부 유형 분석이 필요한 때.
                            </div>
                            <div class="font-h6">
                                이런 닥터지의 고민은 <span class="font-bold">아시아인에 최적화된<br/>
                                피부과학을 기반</span>으로 한<br/>
                                <span class="font-bold">닥터지 Ai피부분석</span>이라는 정답으로 완성됐죠.
                            </div>
                            <div class="slider-box">
                                <div class="swiper-container slider _howSlider">
                                    <div class="swiper-wrapper">
                                        <div class="swiper-slide">
                                            <div class="item item-2">
                                                <div class="item-title">
                                                    한눈에 확인하는<br/>
                                                    <span class="color-primary">피부 분석 결과</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="swiper-slide">
                                            <div class="item item-2">
                                                <div class="item-title">
                                                    Ai가 콕 찝어주는<br/>
                                                    <span class="color-primary">나의 피부 고민</span>
                                                </div>
                                                <div class="img">
                                                    <img src="../../img/AI/img-skin-spot.png" alt="나의 피부 고민">
                                                    <span class="spot spot-1"><img src="../../img/AI/img-spot-1.png" alt="수분"></span>
                                                    <span class="spot spot-2"><img src="../../img/AI/img-spot-2.png" alt="여드름"></span>
                                                    <span class="spot spot-3"><img src="../../img/AI/img-spot-3.png" alt="모공"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="swiper-slide">
                                            <div class="item item-2">
                                                <div class="item-title">
                                                    피부고민의 따른<br/>
                                                    <span class="color-primary">제품 및 솔루션 추천</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="slider-pagination _sliderPagination"></div>
                            </div>
                        </div>
                    </div>
                    <div class="section" id="section3" style="height: 600px; background-color: pink;">STORY</div>
                    <div class="section" id="section4" style="height: 600px; background-color: orange;">WHY</div>
                    <div class="section" id="section5" style="height: 600px; background-color: blue;">PROCESS</div>
                    <div class="section" id="section6" style="height: 600px; background-color: violet;">REVIEW</div>
                    <div class="section" id="section7" style="height: 600px; background-color: gold;">FAQ</div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- e contents -->
<!-- s footer -->
@@include('../../html/include/common/footer.html')
<!-- e footer -->
</div>

<script>
    $(document).ready(function () {
        // circle slider
        // https://www.jqueryscript.net/slider/3D-Cover-Flow-Style-Image-Carousel-Plugin-with-jQuery-Cloud-9-Carousel.html
        let showcase = $("._showCase")
        showcase.Cloud9Carousel({
            xOrigin: null,
            yOrigin: 53,
            xRadius: 260,
            yRadius: 130,
            autoPlay: true,
            bringToFront: true,
            onLoaded: function () {
                showcase.css('visibility', 'visible')
                showcase.css('display', 'none')
                showcase.fadeIn(1500)
            },
            farScale: 0.4,
            speed: 4,
            autoPlayDelay: 2000,
            frontItemClass: 'front',
            itemClass: '_showCaseItem',
        })

        // tab
        // var didScroll;
        // var lastScrollTop = 0;
        // var delta = 5;
        // let headerHeight = $('._header-sticky').height();
        // let sectionTab = $('._scrollTabWrap');
        // var tabHeight = sectionTab.outerHeight();
        //
        // $(window).scroll(function(event){
        //     didScroll = true;
        // });
        //
        // setInterval(function() {
        //     if (didScroll) {
        //         hasScrolled();
        //         didScroll = false;
        //     }
        // }, 250);
        //
        // function hasScrolled() {
        //     var st = $(this).scrollTop();
        //
        //     if(Math.abs(lastScrollTop - st) <= delta)
        //         return;
        //
        //     if (st > lastScrollTop && st > tabHeight){
        //         // 스크롤을 내렸을 때
        //         sectionTab.addClass('fixed').css('top', 0 + 'px')
        //     } else {
        //         // 스크롤을 올렸을 때
        //         if(st + $(window).height() < $(document).height()) {
        //             sectionTab.addClass('fixed').css('top', tabHeight + 'px')
        //         }
        //     }
        //
        //     lastScrollTop = st;
        // }

        update_nav_menu_position = function () {
            let $active_nav_item = $('._scrollTabWrap').find('a.active'),
                $scroll_elem = $('._scrollTab'),
                left_pos, right_limit, active_elem_left_pos, active_elem_right_pos, scroll_pos, new_scroll_pos;

            if (!$active_nav_item.length) {
                return false;
            }

            left_pos = $scroll_elem.offset().left;
            right_limit = $scroll_elem.width() + left_pos;
            active_elem_left_pos = $active_nav_item.offset().left;
            active_elem_right_pos = $active_nav_item.width() + active_elem_left_pos;
            scroll_pos = $scroll_elem.scrollLeft();

            if (active_elem_left_pos > left_pos && active_elem_right_pos < (right_limit - 50)) {
                return true;
            } else {
                new_scroll_pos = (left_pos + right_limit) / 2;
                new_scroll_pos = active_elem_left_pos - new_scroll_pos;
                new_scroll_pos = scroll_pos + new_scroll_pos;
                $scroll_elem.scrollLeft(new_scroll_pos);
            }
        }

        const navbar = document.querySelector('._scrollTabWrap');
        const scrollspy = new VanillaScrollspy(navbar,2000);
        scrollspy.init();

        // how slider
        new Swiper("._howSlider", {
            spaceBetween: 24,
            centeredSlides: true,
            effect: 'fade',
            pagination: {
                el: "._sliderPagination",
                clickable: true,
            },
        });
    })

    function showCase(val) {
        $("._showCase").data("carousel").go( val );
        // console.log(val)
    }
</script>
</body>
</html>
