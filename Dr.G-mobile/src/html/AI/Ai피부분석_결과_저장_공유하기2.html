<!DOCTYPE html>
<html lang="ko">
@@include('../../html/include/common/head.html')
<body>
<div class="wrap">
    <!-- s header 2022.03.11 추가 -->
    @@include('../../html/include/common/header-detail.html')
    <!-- e header -->

    <!-- s contents -->
    <div class="container">
        <div class="AI-wrap">
            <div class="result-detail-view _copyArea">
                <div class="heading"><img src="../../img/common/img-AI-symbol-bling.svg" alt=""><span>닥터지 Ai 피부분석 결과</span></div>
                <div class="result">
                    <div class="heading">
                        <div class="font-body-1 font-bold">조수인님의 피부타입은?</div>
                        <div class="skin-type">
                            <!--
                                <i class="icon icon-DN-m"></i>
                                <i class="icon icon-DN-p"></i>
                                <i class="icon icon-DS-m"></i>
                                <i class="icon icon-DS-p"></i>
                                <i class="icon icon-ON-m"></i>
                                <i class="icon icon-ON-p"></i>
                                <i class="icon icon-OS-m"></i>
                                <i class="icon icon-OS-p"></i>
                            -->
                            <i class="icon icon-ON-p"></i>
                        </div>
                        <div class="skin-type-info">
                            <div class="title">
                                <span class="font-h2 font-bold">건지형</span>
                            </div>
                            <div class="font-body-2 font-poppins">Oily, Non-Sensitive, Hydrated</div>
                        </div>
                        <div class="skin-type-detail">
                            <div class="font-h6">
                                피지로 인한 번들거림과 수분 부족,<br>
                                민감성 고민이 자주 나타나는 <span class="font-bold">수분 부족형 민감 지성 피부</span>입니다.
                            </div>
                            <div class="bar-box">
                                <div class="bar">
                                    <div class="percent left-0" data-percent="1" style="left: 1%;">
                                     <span class="badge-tooltip color-1">상위권 달성을 축하합니다!
                                      <svg width="6" height="5" viewBox="0 0 6 5" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.59957 4.5C3.21467 5.16667 2.25241 5.16667 1.86751 4.5L0.135466 1.5C-0.249434 0.833333 0.231694 0 1.00149 0H4.46559C5.23539 0 5.71652 0.833333 5.33162 1.5L3.59957 4.5Z" fill="#D5F4EF" stroke-dasharray="16.680498123168945" style="stroke-dashoffset: 0px;"></path></svg>
                                    </span>
                                    </div>
                                    <div class="line-wrap">
                                        <span class="line"></span>
                                        <span class="line"></span>
                                        <span class="line"></span>
                                        <span class="line"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="font-body-2">같은 연령대 중 <span class="color-primary">상위 1%</span>입니다.</div>
                        </div>
                    </div>
                    <div class="analysis-result">
                        <div class="bar-chart-box">
                            <div class="bar-chart _barChart">
                                <div class="item">
                                    <div class="info">
                                        <div class="score on">
                                            <i class="icon ico-skin-type-1"></i>
                                            <span class="txt">수분 <em class="num">88</em>점</span>
                                        </div>
                                        <!-- 증가할 경우 : up 클래스 추가 / 감소할 경우 : down 클래스 추가 -->
                                        <div class="state up">22</div>
                                    </div>
                                    <div class="bar">
                                        <div class="gradient" style="-webkit-mask-image: linear-gradient(to left, transparent 12%, black 12%);"></div>
                                        <div class="pos" data-score="88" style="left: 88%;">
                                            <span class="pin"></span>
                                            <span class="txt">매우 좋음</span>
                                        </div>
                                        <div class="line-wrap">
                                            <span class="line"></span>
                                            <span class="line"></span>
                                            <span class="line"></span>
                                            <span class="line"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="item">
                                    <div class="info">
                                        <div class="score on">
                                            <i class="icon ico-skin-type-2"></i>
                                            <span class="txt">유분 <em class="num">100</em>점 </span>
                                        </div>
                                        <!-- 증가할 경우 : up 클래스 추가 / 감소할 경우 : down 클래스 추가 -->
                                        <div class="state up">22</div>
                                    </div>
                                    <div class="bar">
                                        <div class="gradient" style="-webkit-mask-image: linear-gradient(to left, transparent 0%, black 0%);"></div>
                                        <div class="pos align-right" data-score="100" style="left: 100%;">
                                            <span class="pin"></span>
                                            <span class="txt">매우 좋음</span>
                                        </div>
                                        <div class="line-wrap">
                                            <span class="line"></span>
                                            <span class="line"></span>
                                            <span class="line"></span>
                                            <span class="line"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="item">
                                    <div class="info">
                                        <div class="score on">
                                            <i class="icon ico-skin-type-3"></i>
                                            <span class="txt">민감 <em class="num">30</em>점 </span>
                                        </div>
                                        <!-- 증가할 경우 : up 클래스 추가 / 감소할 경우 : down 클래스 추가 -->
                                        <div class="state down">42</div>
                                    </div>
                                    <div class="bar">
                                        <div class="gradient" style="-webkit-mask-image: linear-gradient(to left, transparent 70%, black 70%);"></div>
                                        <div class="pos" data-score="30" style="left: 30%;">
                                            <span class="pin"></span>
                                            <span class="txt">부족</span>
                                        </div>
                                        <div class="line-wrap">
                                            <span class="line"></span>
                                            <span class="line"></span>
                                            <span class="line"></span>
                                            <span class="line"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="item">
                                    <div class="info">
                                        <div class="score on">
                                            <i class="icon ico-skin-type-5"></i>
                                            <span class="txt">색소 <span class="num">50</span>점 </span>
                                        </div>
                                        <!-- 증가할 경우 : up 클래스 추가 / 감소할 경우 : down 클래스 추가 -->
                                        <div class="state down">28</div>
                                    </div>
                                    <div class="bar">
                                        <div class="gradient" style="-webkit-mask-image: linear-gradient(to left, transparent 50%, black 50%);"></div>
                                        <div class="pos" data-score="50" style="left: 50%;">
                                            <span class="pin"></span>
                                            <span class="txt">보통</span>
                                        </div>
                                        <div class="line-wrap">
                                            <span class="line"></span>
                                            <span class="line"></span>
                                            <span class="line"></span>
                                            <span class="line"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="item">
                                    <div class="info">
                                        <div class="score on">
                                            <i class="icon ico-skin-type-6"></i>
                                            <span class="txt">주름 <em class="num">70</em>점 </span>
                                        </div>
                                        <!-- 증가할 경우 : up 클래스 추가 / 감소할 경우 : down 클래스 추가 -->
                                        <div class="state up">42</div>
                                    </div>
                                    <div class="bar">
                                        <div class="gradient" style="-webkit-mask-image: linear-gradient(to left, transparent 30%, black 30%);"></div>
                                        <div class="pos" data-score="70" style="left: 70%;">
                                            <span class="pin"></span>
                                            <span class="txt">좋음</span>
                                        </div>
                                        <div class="line-wrap">
                                            <span class="line"></span>
                                            <span class="line"></span>
                                            <span class="line"></span>
                                            <span class="line"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="item">
                                    <div class="info">
                                        <div class="score on">
                                            <i class="icon ico-skin-type-7"></i>
                                            <span class="txt">모공 <em class="num">20</em>점 </span>
                                        </div>
                                        <!-- 증가할 경우 : up 클래스 추가 / 감소할 경우 : down 클래스 추가 -->
                                        <div class="state down">28</div>
                                    </div>
                                    <div class="bar">
                                        <div class="gradient" style="-webkit-mask-image: linear-gradient(to left, transparent 80%, black 80%);"></div>
                                        <div class="pos" data-score="20" style="left: 20%;">
                                            <span class="pin"></span>
                                            <span class="txt">매우 나쁨</span>
                                        </div>
                                        <div class="line-wrap">
                                            <span class="line"></span>
                                            <span class="line"></span>
                                            <span class="line"></span>
                                            <span class="line"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- s 추가 -- 2022.03.11 -->
                <div class="btn-wrap">
                    <a class="btn btn-md btn-light _copy" href="#"><i class="icon ico-download"></i><span>저장하기</span></a>
                    <a class="btn btn-md btn-light" href="#"><i class="icon ico-share"></i><span>공유하기</span></a>
                </div>
                <!-- e 추가 -- 2022.03.11 -->
            </div>
        </div>
    </div>
    <!-- e contents -->
</div>
<script>
    /* 피부 상태 그래프 */
    var $score = $('._barChart .bar .pos');
    $score.each(function () {
        let data = $(this).data('score');
        let numDate = 100 - Number(data)
        $(this).css('left', data + '%')
        $(this).siblings('.gradient').css({
            'mask-image' : 'linear-gradient(to left, transparent ' + numDate + '%, black '+ numDate +'%)',
            '-webkit-mask-image' : 'linear-gradient(to left, transparent ' + numDate + '%, black '+ numDate +'%)'
        })
        if (0 < data && data <= 5) {
            $(this).addClass('align-left')
        } else if (95 < data && data <= 100) {
            $(this).addClass('align-right')
        }
    })


    // $('.select-img').on('change', function(e) {
    // $('._copy').on('click', function(e) {
    //     var fileObj = $(this);
    //     drg.ImageUpload.setUploadType('image');
    //     drg.ImageUpload.ajax(fileObj).done(function(d) {
    //         alert(d.uploadedImageMap['default'].imagePath);    // 이미지경로
    //         alert(d.uploadedImageMap['default'].originalFileName);  // 이미지명
    //     }).fail(function(e) {
    //         e.alertError();
    //     }).always(function() {
    //         e.target.value = '';
    //     });
    // });

    $("._copy").on('click',function(){
        html2canvas($('._copyArea')[0]).then(function (canvas) {
            var img = document.createElement("a");
            img.download = "result.png";
            img.href = canvas.toDataURL();
            document.body.appendChild(img);
            img.click();
        });
    });
</script>
</body>
</html>
