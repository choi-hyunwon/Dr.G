<script>
    $(document).ready(function () {
        // slider
        // https://swiperjs.com/swiper-api
        new Swiper(".suggestion-slider", {
            pagination: {
                el: ".swiper-pagination",
            }
        });

        // masonry layout
        // https://masonry.desandro.com/options.html
        let subjectList = $('._subjectList').masonry({
            itemSelector: '._subjectList .item',
            columnWidth: '._subjectList .sizer',
            percentPosition: true
        });

        $('._tab a').on('click', function () {
            subjectList.masonry('layout');
        });

        // filter tab click event
        $('._filterTab a').on('click', function () {
            $(this).addClass('active').siblings().removeClass('active')
        })

        // like button click event
        $('._likeBtn').on('click', function () {
            let number = Number($(this).children('.num').text())

            if ($(this).parent().hasClass('on')) {
                $(this).parent().removeClass('on')
                $(this).children('.num').text(number - 1)
            } else {
                $(this).parent().addClass('on')
                $(this).children('.num').text(number + 1)
            }
        })

        // popup on off
        function popup(){
            $('._toast-popup-open.text').on('click',function () {
                let select = $('._toast-popup.text')
                select.removeClass('hide').addClass('fade show').css('display', 'block');
            });
        }
        function List() {
            let list = $('._toast-popup.text .select-list > .list');
            function hidePopup() {
                $('._toast-popup.text').addClass('hide');
                setTimeout(() => {
                    $('._toast-popup.text').removeClass('fade show').css('display', 'none');
                }, 400);
            }
            /*클릭시 텍스트 변경*/
            $(document).ready(function () {
                list.on("click", function (e) {
                    let textValue = $(this).find('span').text();

                    function ChangeText() {
                        $('._toast-popup-open.text').find('span').text(textValue).css({
                            'color': '#444444',
                            'font-weight': 'bold'
                        });
                    }

                    if (list.hasClass("active")) {
                        list.removeClass("active");
                        $(this).addClass("active");
                        hidePopup();
                        ChangeText();
                    } else {
                        $(this).addClass("active")
                        hidePopup();
                        ChangeText();
                    }
                });
            });
        }

        function init() {
            popup();
            List()
        }
        init();
    })
</script>
