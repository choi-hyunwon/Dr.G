<script>
  $(document).ready(function () {

    // 질문 클릭 시
    let answer = $('.answer')
    let list = $(this).find('li');
    answer.each(function () {
      list.on('click', function () {
        $(this).siblings().hide()
        $(this).parents('.answer').addClass('complete')
      })

      $('.delete').on('click', function () {
        $(this).parent().removeClass('complete')
        $(this).parent().find('li').show()
      })
    })
    if (answer.hasClass('complete')) {
      list.hide();
    } else {
      list.show()
    }

    /*수정요청입력란*/
    let badge = $('.write-area .badge-box .badge')
    badge.on('click', function () {
      $(this).siblings().removeClass('active')
      $(this).addClass('active')
    })



/*-------------s 분석결과 상세 (스킨케어,헤어제품)-----------------*/

    /*gauge bar*/
    let progress = 0.5
    $('#progress').find('.numerical').animate({'stroke-dashoffset': 150 * progress}, 1000)
    /*gauge number*/
    let counterUp = setInterval(function () {
      let text = $('.percent .counter');
      let gaugeText = text.html();
      let counter = parseInt(gaugeText);

      if (counter !== 50) {
        text.html(counter + 1);
      } else {
        clearInterval(counterUp);
      }
    }, 20);


    /*- 제품버전 보기-*/
    let name = $('.section-product .name')
    let btnVersion = $('.section-product .name .btn_version')
    btnVersion.on('click', function () {
      name.toggleClass('show')
    })

    /*전성분 보기*/
    let product = $('.section-product')
    let btnFold = $('.section-product .desc .btn-wrap .btn-fold')
    let btnView = $('.section-product .view .btn-view')
    btnView.on('click', function () {
      product.addClass('open')
    })
    btnFold.on('click', function () {
      product.removeClass('open')
    })



    /*--- s 매칭된 성분 확인 ---*/

    let infoList = $('._know .info-list')
    let subTitle = $('._know .sub-title')
    let mixing = $('._know .mixing')
    let mixingLi = $('._know .mixing li')
    let btnMore = $('._know .mixing li .btn-more')

    $(function (){
      infoList.find('.mixing li:not(:last)').hide();

      if(infoList.hasClass('open')){
        $(this).find(mixingLi).slice(0, 3).show();
        $(this).next('.mixing').children(btnMore).text('더보기')
      }
    })

    subTitle.on('click', function () {
      $(this).parent().toggleClass('open')
      $(this).next().removeClass('more').find('li').slice(3).hide().last().show().find('.btn-more').text('더보기');
      $(this).next().removeClass('more').find('li').slice(0, 3).show();
    })

    btnMore.on('click', function () {
      if ($(this).parents('.mixing').hasClass('more')) {
        $(this).text('더보기'); //닫혀있는 상태 (3개)
        $(this).parents('.mixing').removeClass('more').find('li:not(:last)').hide();
        $(this).parents('.mixing').removeClass('more').find('li').slice(0, 3).show();
      } else {
        $(this).text('닫기');  //더보기 상태 (3개 이상)
        $(this).parents('.mixing').addClass('more').find('li').show();
      }
    })

    /*--- e 매칭된 성분 확인 ---*/



    /*faq*/
    let faqList = $('.faq-list')
    let item = $('.faq-list .item')
    let solution = $('.solution')
    item.on('click', function () {
      if (!$(this).hasClass('active')) {
        $(this).siblings().removeClass('active')
        $(this).siblings().find(solution).slideUp(200);
        $(this).addClass('active');
        $(this).find(solution).slideDown(200);
      } else {
        $(this).removeClass('active');
        $(this).find(solution).slideUp(200);
      }
    })
    $('body').click(function(e) { /*외부클릭시 닫힘처리*/
      if(!faqList.has(e.target).length){
        item.removeClass('active');
        item.find('.solution').slideUp(200);
      }
    });

/*-------------e 분석결과 상세 (스킨케어,헤어제품)-----------------*/
  });
  </script>
