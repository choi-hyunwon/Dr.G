<iframe src="https://mentorg.dr-g.co.kr/chatbot?USER="
        style="width:100%; height:90%; background-color:white; box-shadow: #8d93ab 5px 5px 30px;border: 0;"
        scrolling="no">

    <html lang="ko" style="overflow: hidden scroll;">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport"
              content="width=device-width,height=device-height,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">

        <meta http-equiv="Pragma" content="no-cache">
        <meta http-equiv="Cache-Control" content="no-cache">
        <meta http-equiv="Expires" content="0">


        <title>Dr.G</title>
        <!-- stylesheet -->
        <link rel="stylesheet" href="/css/style.css?20200821">
        <!-- javascript -->
        <script src="/js/handlebars-v4.7.6.js?20200821"></script>
        <script src="/js/jquery.min.js?20200821"></script>
        <script src="/js/jquery-ui.js?20200821"></script>
        <script src="/js/script.js?20200821"></script>
        <!-- owlcarousel -->
        <link rel="stylesheet" href="/js/owlcarousel/owl.carousel.min.css?20200821">
        <link rel="stylesheet" href="/css/jquery-ui.min.css?20200821">
        <script src="/js/owlcarousel/owl.carousel.min.js?20200821"></script>
        <script>
            Handlebars.registerHelper('isNotEmpty', function (v1, options) {
                if (v1 && v1 !== '') {
                    return options.fn(this);
                }
                return options.inverse(this);
            });
            Handlebars.registerHelper('isNotEmptyLink', function (v1, options) {
                if (v1 && v1 !== '') {
                    return options.fn(this);
                }
                return options.inverse(this);
            });

            function msieversion() {
                var ua = window.navigator.userAgent;
                var msie = ua.indexOf("MSIE ");

                if (msie > 0) {
                    return true;
                }

                return false;
            }

            var iframeUrl = null;

            var test = window.open;
            window.open = function (url) {
                iframeUrl = url;
                //window.location.href = url;
                top.location = url;
                //$('iframe').attr('src', url);
                //$('#iframe').css('display', 'block');
            };


        </script>


        <style>
            /*body {
                max-width: 360px;
                max-height: 720px;
                margin: 0 auto;
                border: 1px solid #DEDFE3;
                overflow: hidden;
                position: relative;
            }
            #footer {
                max-width: 360px;
                position: absolute;
            }
            #footer .quetext {
                height: 48px;
            }*/
            #header {
                position: fixed;
            }

            #main .contents .message_wrapper .message_area .balloon {
                float: none;
                display: inline-block;
            }

            .cards_wrap2 .card .content .text-small {
                font-size: 12px;
            }

            #main .contents .message_area.message-loading .balloon.chatbot {
                text-align: center;
                background-color: transparent;
            }

            #main .contents .message_wrapper .message_area .balloon.chatbot.message-loading {
                text-align: center;
                background-color: transparent;
            }

            #main .contents .message_wrapper .message_area .buttons_wrap .btn_icn div {
                margin: 0 auto;
            }

            #main .contents .message_wrapper .message_area .buttons_wrap .btn_icn.icn_wrinkle div {
                background: url(../images/icn_wrinkle.png) no-repeat;
            }

            #main .contents .message_wrapper .message_area .buttons_wrap .btn_icn.icn_tight div {
                background: url(../images/icn_tight.png) no-repeat;
            }

            #main .contents .message_wrapper .message_area .buttons_wrap .btn_icn.icn_pigment div {
                background: url(../images/icn_pigment.png) no-repeat;
            }

            #main .contents .message_wrapper .message_area .buttons_wrap .btn_icn.icn_nonpigment div {
                background: url(../images/icn_nonpigment.png) no-repeat;
            }

            #footer {
                z-index: 10;
                background-color: white;
            }

            #footer .icn_submit {
                text-indent: -9999px;
            }

            #main .contents .message_wrapper .message_area .balloon.chatbot:after {
                content: "";
                display: block;
                clear: both;
            }

            #main .contents .message_wrapper .message_area .balloon .sample_que_wrap .sample_que {
                padding: 10px;
                font-size: 13px;
                color: #0acaad;
            }

            #main .contents .message_area .balloon.chatbot:nth-child(3),
            #main .contents .message_area .balloon:nth-child(4),
            #main .contents .message_area .balloon:nth-child(5),
            #main .contents .message_area .balloon:nth-child(6),
            #main .contents .message_area .balloon:nth-child(7),
            #main .contents .message_area .balloon:nth-child(8),
            #main .contents .message_area .balloon:nth-child(9),
            #main .contents .message_area .balloon:nth-child(10),
            #main .contents .message_area .balloon:nth-child(11),
            #main .contents .message_area .balloon:nth-child(12),
            #main .contents .message_area .balloon:nth-child(13),
            #main .contents .message_area .balloon:nth-child(14),
            #main .contents .message_area .balloon:nth-child(15),
            #main .contents .message_area .balloon:nth-child(16),
            #main .contents .message_area .balloon:nth-child(17),
            #main .contents .message_area .balloon:nth-child(18),
            #main .contents .message_area .balloon:nth-child(19),
            #main .contents .message_area .balloon:nth-child(20),
            #main .contents .message_area .balloon:nth-child(21) {
                clear: both;
            }

            #main .contents .message_wrapper .message_area .buttons_wrap {
                display: block;
                clear: both;
            }

            .download-btn {
                text-align: center;
                padding: 3px 12px;
                border-radius: 12px;
                vertical-align: bottom;
                font-size: 14px;
                text-decoration: underline;
            }
        </style>

        <script id="recommended-products" type="text/x-handlebars-template">
            <div class="cards_wrap2 owl-carousel">
                {{#cards}}
                    <div class="card">
                        <div class="image">
                            <img src="/images/recommended_products/{{image}}" alt="상품사진"
                                 style="height: 150px; width: auto; margin: 0 auto;" onerror="errorImage(this)">
                        </div>
                        <div class="content" style="text-align: center;">
                            <p class="product_name">{{name}}</p>
                            <span class="text-small">{{desc}}</span>
                        </div>
                        <button type="button" class="btn_detail coral" onclick="window.open('{{link}}');">상품 상세</button>
                    </div>
                {{/cards}}
            </div>
            <div></div>
        </script>

        <script id="message-loading" type="text/x-handlebars-template">
            <li class="message_area message-loading">
                <div class="chat_img circle"></div>
                <div class="balloon chatbot">
                    <img src="/images/loading.gif" style="width: auto;height: 51px;"/>
                </div>
            </li>
        </script>
        <script id="message-chatbot-text" type="text/x-handlebars-template">
            <div class="balloon chatbot">
                <p>{{{message}}}</p>
                <div class="txt_confirm" aria-label="메시지 작성시간">
          		<span class="_time">
					<em>{{time.displayDayOf}}</em>
					<span>{{time.displayTime}}</span>
				</span>
                </div>
            </div>
            <div></div>
        </script>
        <script id="message-chatbot-text-sample-que" type="text/x-handlebars-template">
            <div class="balloon chatbot">
                <p>{{{message}}}</p>
                <div class="sample_que_wrap">
                    {{#ltags}}
                        <!--<button class="sample_que text-coral" onclick="location.href='{{link}}'">{{name}}</button>-->
                        <button class="sample_que text-coral" onclick="action.exampleQA('{{name}}')">{{name}}</button>
                    {{/ltags}}
                </div>
                <div class="txt_confirm" aria-label="메시지 작성시간">
          		<span class="_time">
					<em>{{time.displayDayOf}}</em>
					<span>{{time.displayTime}}</span>
				</span>
                </div>
            </div>
            <div></div>
        </script>
        <script id="message-chatbot-buttons" type="text/x-handlebars-template">
            <div class="buttons_wrap owl-carousel">
                {{#buttons}}
                    <button type="button" class="btn green"
                            onclick="action.sendMessageWithoutUserMessage('{{name}}');">{{name}}</button>
                {{/buttons}}
            </div>
        </script>

        <script id="message-chatbot-buttons-link" type="text/x-handlebars-template">
            <div class="buttons_wrap owl-carousel">
                {{#buttons}}

                    {{#isNotEmptyLink link}}
                        <button type="button" onclick="window.open('{{link}}')" class="btn green">{{name}}</button>
                    {{/isNotEmptyLink}}

                    {{#isNotEmpty click}}
                        <button type="button" class="btn green" onclick="{{click}}">{{name}}</button>
                    {{/isNotEmpty}}

                {{/buttons}}
            </div>
        </script>

        <script id="message-chatbot-lifestyle" type="text/x-handlebars-template">
            <li class="message_area">
                <div class="chat_img circle"></div>
                <div class="balloon chatbot">
                    <p>
                        다음 중 라이프스타일과 가장 가까운 항목을 선택해보시겠어요?
                    </p>
                </div>
                <ul class="onboarding">
                    <li class="onboard_list travel" onclick="action.recommender.proTraveler();">
                        <p>여행을 좋아하는<br><span>프로 여행러</span></p>
                    </li>
                    <li class="onboard_list sports" onclick="action.recommender.indoorExercise();">
                        <p>가벼운 <span>실내 운동</span><br>을 즐긴다</p>
                    </li>
                    <li class="onboard_list work" onclick="action.recommender.monitor();">
                        <p><span>모니터 앞에서</span><br>대부분 앉아있는다.</p>
                    </li>
                    <li class="onboard_list meeting" onclick="action.recommender.externalMeeting();">
                        <p>외부 미팅과 같은<br><span>외근이 잦다</span></p>
                    </li>
                    <li class="onboard_list simple" onclick="action.recommender.tiresome();">
                        <p><span>뭐든 간단한 게</span><br>최고인 상남자</p>
                    </li>
                    <li class="onboard_list child" onclick="action.recommender.child();">
                        <p>뛰어놀기 바쁜<br><span>어린이, 유아</span></p>
                    </li>
                </ul>
            </li>
        </script>

        <script id="message-chatbot-greet" type="text/x-handlebars-template">
            <li class="message_area">
                <div class="chat_img circle"></div>
                <div class="balloon chatbot">
                    <p>{{{message}}}</p>
                    <div class="txt_confirm" aria-label="메시지 작성시간">
          		<span class="_time">
					<em>{{time.displayDayOf}}</em>
					<span>{{time.displayTime}}</span>
				</span>
                    </div>
                </div>
                <div></div>
                <div class="cards_wrap owl-carousel">
                    <div class="card blue" onclick="action.scenarioCounselor();">
                        <h3>피부고민<br>상담</h3>
                        <p>SKIN<br>COUNSELING</p>
                    </div>
                    <div class="card green" onclick="action.lifeStyle();">
                        <h3>상황별<br>제품 추천</h3>
                        <p>T.P.O<br>SKIN CARE</p>
                    </div>
                    <div class="card peach" onclick="action.testSkinType();">
                        <h3>내<br>피부타입은?</h3>
                        <p>SKIN TYPE<br>TEST</p>
                    </div>
                    <div class="card yellow" onclick="action.faq();">
                        <h3>기타 문의</h3>
                        <p>ASK TO<br>Dr.G</p>
                    </div>
                    <div class="card gray" onclick="action.connectCounsellor();">
                        <h3>상담원<br>연결</h3>
                        <p>CALL TO<br>Dr.G</p>
                    </div>
                </div>
            </li>
        </script>

        <!--<script id="message-chatbot-button" type="text/x-handlebars-template">
            <li class="message_area">
                <div class="chat_img circle"></div>
                <div class="balloon chatbot">
                    <p>{{{message}}}</p>
                    <div class="sample_que_wrap">
                        {{#ltags}}
                        <button class="sample_que text-coral" onclick="location.href='{{link}}'">{{name}}</button>
                        {{/ltags}}
                    </div>
                    <div class="txt_confirm" aria-label="메시지 작성시간">
                    <span class="_time">
                        <em>{{time.displayDayOf}}</em>
                        <span>{{time.displayTime}}</span>
                    </span>
                    </div>
                </div>
                <div class="buttons_wrap owl-carousel">
                    {{#buttons}}
                    <button type="button" class="btn green" onclick="action.sendMessageWithoutUserMessage('{{name}}');">{{name}}</button>
                    {{/buttons}}
                </div>
            </li>
        </script>-->

        <!--<script id="message-chatbot-button-icn" type="text/x-handlebars-template">
            <li class="message_area">
                <div class="chat_img circle"></div>
                <div class="balloon chatbot">
                    <p>{{message}}</p>
                    <div class="txt_confirm" aria-label="메시지 작성시간">
                    <span class="_time">
                        <em>{{time.displayDayOf}}</em>
                        <span>{{time.displayTime}}</span>
                    </span>
                    </div>
                </div>
                <div class="buttons_wrap">
                    <button type="button" class="btn_icn icn_oily">
                        <div></div>
                        <p>
                            네!
                            <span>(Oily)</span>
                        </p>
                    </button>
                    <button type="button" class="btn_icn icn_dry">
                        <div></div>
                        <p>
                            아뇨!
                            <span>(Dry)</span>
                        </p>
                    </button>
                </div>
            </li>
        </script>-->

        <script id="message-user" type="text/x-handlebars-template">
            <li class="message_area">
                <div class="balloon user">
                    <p>{{message}}</p>
                    <div class="txt_confirm" aria-label="메시지 작성시간">
				<span class="_time">
					<em>{{time.displayDayOf}}</em>
					<span>{{time.displayTime}}</span>
				</span>
                    </div>
                </div>
            </li>
        </script>

        <script>
            /*<![CDATA[*/
            var api_server_ip = "mentorg.dr-g.co.kr";
            var api_server_port = "443";
            var property_type = null;
            var image_base = null;
            var bot_type = "ns_bot";
            var USER = "";
            var API_PROTOCOL = "https";
            /*]]>*/

            var API_URL = API_PROTOCOL + '://' + api_server_ip + ':' + api_server_port + '/api/chatbot';
            var API_CHATTING = API_PROTOCOL + '://' + api_server_ip + ':' + api_server_port + '/api/chatbot/stt/analyze';
            var API_AUTOCOMPLETE = API_PROTOCOL + '://' + api_server_ip + ':' + api_server_port + '/api/chatbot/autocompletion';
            var API_EXAMPLE_QA = API_PROTOCOL + '://' + api_server_ip + ':' + api_server_port + '/api/chatbot/stt/analyzeByExampleQA';
            const BOT_NAME = "Dr.G";
        </script>
        <script src="/js/common/common.js"></script>
        <script src="/js/common/main.js"></script>
        <script src="/js/common/legacy.js"></script>
        <!-- 매니저 통신 -->
        <script src="/js/common/manager.js"></script>
        <!-- 템플릿 변수용 -->
        <script src="/js/common/templates.js"></script>
        <!-- 대화 이력 표시용 -->
        <script src="/js/common/history.js"></script>

        <script>
            //$(document).scrollTop($(document).height());
            function scrollToBottom() {
                var obj = document.getElementById("main");
                obj.scrollTop = obj.scrollHeight;
                $(document).scrollTop($(document).height());

                setTimeout(function () {
                    var obj = document.getElementById("main");
                    $(document).scrollTop($(document).height());
                }, 100);
            }

            var fixOwl = function () {
                var $stage = $('.owl-stage'),
                    stageW = $stage.width(),
                    $el = $('.owl-item'),
                    elW = 0;
                $el.each(function () {
                    elW += $(this).width() + +($(this).css("margin-right").slice(0, -2))
                });
                if (elW > stageW) {
                    $stage.width(elW);
                }
                ;
            }

            function carousel() {
                $('.owl-carousel').css('visibility', 'hidden');
                $('.owl-carousel').owlCarousel({
                    autoWidth: true,
                    onInitialized: fixOwl,
                    onRefreshed: fixOwl,
                    margin: 10,
                    items: 4,
                    nav: true,
                    navText: [
                        "<img src='/images/left.png'>",
                        "<img src='/images/right.png'>"
                    ],
                });

                setTimeout(function () {
                    $('.owl-carousel').css('visibility', 'visible');
                }, 50);
            }


            function recommenderScenarioCheck(response) {
                if (recommenderScenarioScene) {
                    var nextScene = recommenderScenarioSet.nextScene(response.conform_entity_name, recommenderScenarioScene.scenario, recommenderScenarioScene.depthName);
                    if (!nextScene) {
                        recommenderScenarioScene = null;
                    } else {
                        response.answer.text = nextScene.responseMessage;
                        if (nextScene.depthName === 'close') {
                            recommenderScenarioScene = null;
                        } else if (nextScene.depthName === 'intro') {
                            recommenderScenarioScene = null;
                            response.answer.text = null;
                            ui.hideLoading();
                            action.greet();
                        } else if (nextScene.depthName === 'recommender') {
                            recommenderScenarioScene = null;
                            response.answer.text = null;
                            ui.hideLoading();
                            action.lifeStyle();
                        } else {
                            recommenderScenarioScene = nextScene;
                        }
                    }
                }
            }

            function scenarioCheck(response) {
                recommenderScenarioCheck(response);
                if (recommenderScenarioScene) {
                    conversationScenarioScene = null;
                }

                console.log('------------------------');
                console.log(testScenarioScene);
                console.log(conversationScenarioScene);
                console.log(recommenderScenarioScene);
                console.log('------------------------');

            }

            var action = {
                sendMessageWithoutUserMessage: function (message) {
                    if (message == '고객센터 전화연결') {
                        location.href = 'tel:1811-9415';
                        return;
                    }

                    ui.showLoading();
                    api.sendMessage(message, function (response) {
                        sendToParent(response);
                        scenarioCheck(response);
                        ui.chatMessage(response.answer.text, response.SAMPLE_QA);
                    });
                },
                sendMessage: function (message) {
                    if (message == '고객센터 전화연결') {
                        location.href = 'tel:1811-9415';
                        return;
                    }

                    ui.userMessage(message);
                    ui.showLoading();
                    api.sendMessage(message, function (response) {
                        sendToParent(response);
                        scenarioCheck(response);
                        if (response.intent_name === '제품추천') {
                            ui.hideLoading();
                            action.lifeStyle();
                        } else {
                            ui.chatMessage(response.answer.text, response.SAMPLE_QA);
                        }
                    });
                },
                scenarioCounselor: function () {
                    ui.showLoading();
                    api.sendMessage('피부 고민', function (response) {
                        ui.hideLoadingText();
                        sendToParent(response);
                        scenarioCheck(response);
                        ui.chatMessage(response.answer.text, response.SAMPLE_QA);
                    });
                },
                recommender: {
                    proTraveler: function () {
                        ui.showLoading();
                        ui.chatMessage(recommenderScenarioProTraveler.intro());
                    },
                    indoorExercise: function () {
                        ui.showLoading();
                        ui.chatMessage(recommenderScenarioIndoorExercise.intro());
                    },
                    monitor: function () {
                        ui.showLoading();
                        ui.chatMessage(recommenderScenarioMonitor.intro());
                    },
                    externalMeeting: function () {
                        ui.showLoading();
                        ui.chatMessage(recommenderScenarioExternalMeeting.intro());
                    },
                    tiresome: function () {
                        ui.showLoading();
                        ui.chatMessage(recommenderScenarioTiresome.intro());
                    },
                    child: function () {
                        ui.showLoading();
                        ui.chatMessage(recommenderScenarioChild.intro());
                    }
                },
                lifeStyle: function () {
                    ui.chatMessageLifestyle();
                },
                testSkinType: function () {
                    ui.showLoading();
                    api.sendMessage('바우만', function (response) {
                        ui.hideLoadingText();
                        sendToParent(response);
                        scenarioCheck(response);
                        ui.chatMessage(response.answer.text);
                    });
                },
                faq: function () {
                    ui.showLoading();
                    ui.chatMessage('상품, 주문, 결제까지! 궁금한 게 있다면 뭐든지 물어보세요.');
                },
                connectCounsellor: function () {
                    var message = [{
                        type: 'text',
                        data: '신속한 처리와 정확한 상담을 위해 고객센터로 연결해드릴게요.'
                    }, {
                        type: 'html',
                        data: '<div class="buttons_wrap owl-carousel">' +
                            '<button type="button" onclick="location.href=\'tel:1811-9415\'" class="btn green">전화연결</button>' +
                            '<button type="button" onclick="window.open(\'https://pf.kakao.com/_HuEsE/chat\')" class="btn green">카카오톡 상담</button>' +
                            '<button type="button" onclick="window.open(\'https://www.dr-g.co.kr/cs/qna\')" class="btn green">1:1 문의</button>',
                    }];

                    ui.showLoading();
                    ui.chatMessage(message);
                },
                exampleQA: function (message) {
                    ui.userMessage(message);
                    api.exampleQA(message, function (response) {
                        sendToParent(response);
                        ui.showLoading();
                        ui.chatMessage(response.answer[0].text);
                    });
                },
                greet: function () {
                    api.greet(function (response) {
                        sendToParent(response);
                        //ui.chatMessageGreet(response.greetMsg);
                        ui.showLoading();
                        ui.chatMessage(response.greetMsg);
                    });
                },
            };

            var controlUi = {
                disableMessageInput: function () {
                    $('.quetext').attr('placeholder', '원하는 버튼을 클릭해 주세요.');
                    $('.quetext').attr('disabled', true);
                },
                /*openMessageInput: function() {
                    $('.quetext').attr('placeholder', '메세지를 입력해주세요.');
                    $('.quetext').removeAttr('disabled');
                }*/
            };
            var ui = {
                _chatbotLayout: function () {
                    var html = '<li class="message_area"><div class="chat_img circle"></div>';
                    $('.message_wrapper').append(html);
                    scrollToBottom();
                },
                _messageText: function (message) {
                    message = message.replace("[:name]", USER ? USER : "");

                    var templateText = Handlebars.compile($('#message-chatbot-text').html());
                    var templateTextSampleQue = Handlebars.compile($('#message-chatbot-text-sample-que').html());
                    var templateButtons = Handlebars.compile($('#message-chatbot-buttons').html());
                    var templateButtonsLink = Handlebars.compile($('#message-chatbot-buttons-link').html());

                    var startIdx = 0;
                    var endIdx = message.length;
                    var buttons = [];
                    var buttonsLink = [];
                    var ltags = [];
                    var htmls = [];

                    while (message.indexOf('<html>') !== -1) {
                        startIdx = message.indexOf('<html>');
                        endIdx = message.indexOf('</html>');
                        var str = message.substring(startIdx + 6, endIdx);
                        htmls.push(str);
                        message = message.replace('<html>' + str + '</html>', '');
                    }
                    while (message.indexOf('<b>') !== -1) {
                        startIdx = message.indexOf('<b>');
                        endIdx = message.indexOf('</b>');
                        var str = message.substring(startIdx + 3, endIdx);
                        buttons.push({
                            name: str
                        });
                        message = message.replace('<b>' + str + '</b>', '');
                    }
                    while (message.indexOf('<q>') !== -1) {
                        startIdx = message.indexOf('<q>');
                        endIdx = message.indexOf('</q>');
                        var str = message.substring(startIdx + 3, endIdx);
                        ltags.push({
                            name: str
                        });
                        message = message.replace('<q>' + str + '</q>', '');
                    }
                    while (message.indexOf('<l src=') !== -1) {
                        startIdx = message.indexOf('<l src=');
                        endIdx = message.indexOf('</l>', startIdx);
                        var str = message.substring(startIdx, endIdx);
                        var link = message.substring(startIdx + 8, message.indexOf('\'>', startIdx + 8));
                        buttonsLink.push({
                            name: str.substring(str.indexOf('>') + 1, str.length),
                            link: link,
                        });
                        message = message.replace(str + '</l>', '');
                    }
                    while (message.indexOf('<l click=\'') !== -1) {
                        startIdx = message.indexOf('<l click');
                        endIdx = message.indexOf('</l>', startIdx);
                        var str = message.substring(startIdx, endIdx);
                        var click = message.substring(startIdx + 10, message.indexOf('\'>', startIdx + 10));
                        buttonsLink.push({
                            name: str.substring(str.indexOf('>') + 1, str.length),
                            click: click,
                        });
                        message = message.replace(str + '</l>', '');
                    }
                    /*while (message.indexOf('<l src=') !== -1) {
                        startIdx = message.indexOf('<l ');
                        endIdx = message.indexOf('</l>');
                        var str = message.substring(startIdx, endIdx);
                        var link = message.substring(startIdx+8, message.indexOf('\'>', startIdx+8));
                        ltags.push({
                            name: str.substring(str.indexOf('>')+1, str.length),
                            link: link,
                        });
                        message = message.replace(str+'</l>', '');
                    }*/

                    var html = '';

                    if (ltags.length > 0) {
                        html = templateTextSampleQue({message: message, time: getTimeInfo(), ltags: ltags});
                    } else {
                        html = templateText({message: message, time: getTimeInfo()});
                    }

                    if (buttons && buttons.length > 0) {
                        html += templateButtons({buttons: buttons});
                    }
                    if (buttonsLink && buttonsLink.length > 0) {
                        html += templateButtonsLink({buttons: buttonsLink});
                    }

                    for (var i = 0; i < htmls.length; i++) {
                        html += htmls[i];
                    }

                    $('.message_wrapper li.message_area:last-child').append(html);

                    scrollToBottom();
                    carousel();
                },
                _messageHtml: function (message) {
                    $('.message_wrapper li.message_area:last-child').append(message);

                    scrollToBottom();
                    carousel();
                },
                _message: function (message, delay) {
                    if (!Array.isArray(message) && message && message.indexOf('<nw>') !== -1) {
                        var messages = [];
                        while (message.indexOf('<nw>') !== -1) {
                            startIdx = message.indexOf('<nw>');
                            endIdx = message.indexOf('</nw>');
                            var str = message.substring(startIdx + 4, endIdx);
                            messages.push({
                                type: 'text',
                                data: str
                            });
                            message = message.replace('<nw>' + str + '</nw>', '');
                        }
                        message = messages;
                    }
                    if (!delay) {
                        delay = 1300;
                        //delay = 10;
                    }
                    if (Array.isArray(message)) {
                        for (var i = 0; i < message.length; i++) {
                            (function (that, index) {
                                var fDelay = i * delay;
                                if (message[index].type === 'html' && message[index].data.indexOf('<img') === -1) {
                                    fDelay = (i - 1) * delay + 5;
                                }
                                setTimeout(function () {
                                    that.hideLoadingText();
                                    if (message[index].type === 'text') {
                                        that._messageText(message[index].data);
                                    } else if (message[index].type === 'html') {
                                        that._messageHtml(message[index].data);
                                    }
                                    if (index < message.length - 1) {
                                        that.showLoadingText();
                                    }
                                }, fDelay);
                            })(this, i);
                        }
                    } else {
                        (function (that) {
                            setTimeout(function () {
                                that.hideLoadingText();
                                that._messageText(message);
                            }, 0);
                        })(this);
                    }

                    scrollToBottom();
                },
                showLoadingText: function () {
                    var html = '<div class="balloon chatbot message-loading"><img src="/images/loading.gif" style="width: auto;height: 51px;"/></div>';
                    $('.message_wrapper li.message_area:last-child').append(html);
                    scrollToBottom();
                },
                hideLoadingText: function () {
                    $('.message-loading').remove();
                },
                showLoading: function () {
                    ui._chatbotLayout();
                    this.showLoadingText();
                },
                hideLoading: function () {
                    $('.message-loading').parent().remove();
                },
                userMessage: function (message) {
                    var source = $("#message-user").html();
                    var template = Handlebars.compile(source);
                    var data = {
                        message: message,
                        time: getTimeInfo(),
                    };

                    var html = template(data);
                    $('.message_wrapper').append(html);
                    scrollToBottom();
                },
                chatMessage: function (message, sampleQa) {
                    if (message === null) {
                        return;
                    }

                    if (sampleQa) {
                        message = message.replace("$example_QA", '');
                        for (var i = 0; i < sampleQa.length; i++) {
                            message += '<q>' + sampleQa[i] + '</q>';
                        }
                    }
                    this._message(message);
                },
                chatMessageLifestyle: function (message) {
                    var template = Handlebars.compile($('#message-chatbot-lifestyle').html());
                    var data = {
                        message: message,
                        time: getTimeInfo(),
                    };
                    var html = template(data);
                    $('.message_wrapper').append(html);
                    scrollToBottom();
                    carousel();
                },
                chatMessageGreet: function (message) {
                    var template = Handlebars.compile($('#message-chatbot-greet').html());
                    var data = {
                        message: message,
                        time: getTimeInfo(),
                    };
                    var html = template(data);
                    $('.message_wrapper').append(html);
                    carousel();
                    scrollToBottom();
                },
            };

            var api = {
                greet: function (successCallback, errorCallback) {
                    $.ajax({
                        url: API_URL + '/talk/greet',
                        method: 'POST',
                        contentType: "application/json",
                        dataType: 'json',
                        data: JSON.stringify({
                            bot_name: bot_type
                        }),
                        success: function (response) {
                            if (successCallback) {
                                successCallback(response);
                            }
                        }
                    });
                },
                exampleQA: function (message, successCallback, errorCallback) {
                    $.ajax({
                        url: API_EXAMPLE_QA,
                        method: 'POST',
                        contentType: "application/json",
                        dataType: 'json',
                        data: JSON.stringify({
                            phrase: message,
                            roomKey: 'roomKey'
                        }),
                        success: function (response) {
                            console.log('message', response);
                            scenarioName = response.scenarioName;
                            scenarioDepthNo = response.scenarioDepthNo;
                            scenarioResult = response.scenarioResult;

                            if (successCallback) {
                                if (response.intent_name === '제품추천') {
                                    ui.hideLoading();
                                    action.lifeStyle();
                                } else {
                                    successCallback(response);
                                }
                            } else {
                                ui.chatMessage(response.answer[0].text);
                            }
                        }
                    });
                },
                sendMessage: function (message, successCallback, errorCallback) {
                    $.ajax({
                        url: API_CHATTING,
                        method: 'POST',
                        contentType: "application/json",
                        dataType: 'json',
                        data: JSON.stringify({
                            phrase: message,
                            roomKey: 'roomKey',
                            channel: detectmob() ? 'MOBILE' : 'SIMULATION',
                            scenarioName: scenarioName,
                            scenarioDepthNo: scenarioDepthNo,
                            scenarioResult: scenarioResult
                        }),
                        success: function (response) {
                            scenarioName = response.scenarioName;
                            scenarioDepthNo = response.scenarioDepthNo;
                            scenarioResult = response.scenarioResult;

                            if (Array.isArray(response.answer)) {
                                response.answer = response.answer[0];
                            }

                            if (response.intent_name == '처음으로') {
                                ui.hideLoading();
                                action.greet();
                            } else if (successCallback) {
                                successCallback(response);
                            } else {
                                ui.chatMessage(response.answer.text);
                            }
                        }
                    });
                }
            };
            $(document).ready(function () {
                //controlUi.disableMessageInput();

                /*var iframeUrl = null;

                window.open = function(url) {
                    iframeUrl = url;
                    $('iframe').attr('src', url);
                    $('#iframe').css('display', 'block');
                };*/

                $('.btn_back').on('click', function () {
                    if (iframeUrl) {
                        $('#iframe').css('display', 'none');
                        $('iframe').attr('src', '');
                    }
                });
                $('.btn_home').on('click', function () {
                    if (iframeUrl) {
                        $('#iframe').css('display', 'none');
                        $('iframe').attr('src', '');
                    }

                    action.greet();
                });

                if (msieversion) {
                    $('html').css('overflow-y', 'scroll');
                }
                $('.quetext')
                    .autocomplete(autocomplete)
                    .autocomplete("instance")._renderItem = function (ul, item) {    //요 부분이 UI를 마음대로 변경하는 부분
                    if (item.score === -1) {
                        return $("<li>")
                            .append("<div class='autocomplete-title'># " + item.label + "</div>")
                            .appendTo(ul);
                    }

                    return $("<li>")    //기본 tag가 li로 되어 있음
                        .append("<div>" + item.label + "</div>")    //여기에다가 원하는 모양의 HTML을 만들면 UI가 원하는 모양으로 변함.
                        .appendTo(ul);
                };

                // kuber,


                $('.quetext').on('keypress', function (e) {
                    if (e.key === 'Enter') {
                        $('.quetext').autocomplete("close");

                        var message = e.target.value;
                        if (message.length > 0) {
                            action.sendMessage(message);
                            e.target.value = '';
                            e.target.focus();
                        }
                    }
                });

                $('.icn_submit').on('click', function (e) {
                    var message = $('.quetext').val();
                    if (message.length > 0) {
                        action.sendMessage(message);
                        $('.quetext').val('');
                        $('.quetext').focus();
                    }
                });

                $('.btn_close').on('click', function (e) {
                    self.close();
                });

                //greet();
            });

            function getTimeInfo() {
                var date = new Date();
                var ofDay = date.getHours() / 12 > 1 ? '오후' : '오전';
                var hour = date.getHours() > 13 ? lPad(date.getHours() - 12 + "", "0", 2) : date.getHours();
                var minutes = lPad(date.getMinutes() + "", "0", 2);
                return {
                    displayDayOf: ofDay,
                    displayTime: hour + ':' + minutes
                };
            }


            var autocomplete = {
                source: function (request, response) {
                    var queryStr = $('.quetext').val();
                    $.ajax({
                        type: 'get',
                        url: API_AUTOCOMPLETE + "?searchText=" + encodeURI(queryStr),
                        success: function (data) {
                            if (data.autocompletion && data.autocompletion.length > 0) {
                                data.autocompletion.splice(0, 0, {
                                    highlight: $('.quetext').val(),
                                    example_QA: $('.quetext').val(),
                                    score: -1,
                                });
                            }

                            data.autocompletion = data.autocompletion.slice(0, 5);
                            response(
                                $.map(data.autocompletion, function (item) {
                                    console.log(item);
                                    return {
                                        label: item.highlight,    //UI 에서 보여지는 글자, 실제 검색어랑 비교 대상
                                        value: item.example_QA,    //그냥 사용자 설정값?
                                        score: item.score    //이런식으로 사용
                                    }
                                })
                            );
                        }
                    });
                },    // source 는 자동 완성 대상
                select: function (event, ui) {    //아이템 선택시
                    $('.quetext').autocomplete('close');
                    setTimeout(function () {
                        $('.quetext').val('');
                    }, 100);
                    action.sendMessage(ui.item.value);
                },
                focus: function (event, ui) {    //포커스 가면
                    return false;//한글 에러 잡기용도로 사용됨
                },
                minLength: 1,// 최소 글자수
                autoFocus: false, //첫번째 항목 자동 포커스 기본값 false
                classes: {    //잘 모르겠음
                    "ui-autocomplete": "highlight"
                },
                delay: 300,
                position: {my: "right top", at: "right bottom", collision: "flip"},    //잘 모르겠음
                close: function (event) {    //자동완성창 닫아질때 호출
                    console.log(event);
                }
            };

        </script>
        <style>
            .ui-autocomplete {
                left: 0 !important;
                right: 1px !important;
                height: 180px;
                overflow-y: auto;
                overflow-x: hidden;
                background-color: #f1f3f5;
            }

            .ui-widget.ui-widget-content {
                border: none;
            }

            .ui-autocomplete .ui-menu-item-wrapper {
                padding: 5px 30px;
                overflow: hidden;
                height: 35px;
                text-overflow: ellipsis;
                line-height: 35px;
                white-space: nowrap;
            }

            .ui-autocomplete .autocomplete-title {
                padding: 2px 10px;
                font-size: 20px;
                font-weight: 700;
                color: #0fcaad;
            }

            .ui-autocomplete .autocomplete-title.ui-state-active {
                background: none;
                border: none;
                margin: 0;
                color: #0fcaad;
            }

            .ui-state-active,
            .ui-widget-content .ui-state-active,
            .ui-widget-header .ui-state-active,
            a.ui-button:active, .ui-button:active,
            .ui-button.ui-state-active:hover {
                background: #dadada;
                border: none;
                color: #444;
            }


            .ui-autocomplete em {
                font-weight: 900;
                color: #0fcaad;
            }


            .sample_que_wrap {
                padding: 10px 15px 15px 15px;
            }

            #main .contents .message_wrapper .message_area .balloon .sample_que_wrap .sample_que {
                padding: 10px;
                font-size: 14px;
                font-weight: 500;
                color: #0acaad;
                background: white;
                border-radius: 5px;
                margin-bottom: 10px;
                border: none;
            }

            .skin-type-container {
                padding: 5px 5px 5px 20px;
                font-size: 13px;
            }

            button.skin-type {
                background-color: white;
                border: 1px solid green;
                border-radius: 5px;
                padding: 5px 10px;
                margin: 5px 8px 0 0;
                display: inline-block;
                width: 95px;
                height: 30px;
            }

            #ui-id-1 {
                max-width: 100%;
            }
        </style>


    </head>
    <body onload="onload_body();">
    <div id="wrapper">
        <header id="header" class="mint">
            <div class="logo">
                <p>Dr.G</p>
                <span>멘토G 상담</span>
            </div>
            <button type="button" class="btn_back">뒤로</button>
            <button type="button" class="btn_home">홈바로가기</button>
        </header>
        <div id="iframe"
             style="display: none; position: absolute; background-color: antiquewhite; left: 0; right: 0; top: 50px; bottom: 0; z-index: 999;">
            <iframe src="" style="width: 100%; height: 100%"></iframe>
        </div>
        <main id="main">
            <!-- contents -->
            <div class="contents" style="padding-top: 60px; padding-bottom: 60px;">
                <!-- message_wrapper -->
                <ul id="contents-area" class="message_wrapper">
                    <!--
                    <li class="message_area">
                        <div class="chat_img circle"></div>
                        <div class="balloon chatbot">
                            <p>
                                ‘홍길순’ 고객님, 반가워요!&#128516; <br>
                                제가 도와드릴 게 있다면 말씀해주세요.
                            </p>
                            <div class="txt_confirm" aria-label="메시지 작성시간">
                                <span class="_time"><em>오전</em> <span>11:20</span></span>
                            </div>
                        </div>
                        <div class="skin-type-container">
                            <button type="button" class="skin-type" onclick="action.sendMessage('여드름');">여드름</button>
                            <button type="button" class="skin-type" onclick="action.sendMessage('블랙헤드');">블랙헤드</button>
                            <button type="button" class="skin-type" onclick="action.sendMessage('좁쌀여드름');">좁쌀여드름</button>
                            <button type="button" class="skin-type" onclick="action.sendMessage('홍조');">홍조</button>
                            <button type="button" class="skin-type" onclick="action.sendMessage('따끔거림');">따끔거림</button>
                            <button type="button" class="skin-type" onclick="action.sendMessage('알레르기');">알레르기</button>
                            <button type="button" class="skin-type" onclick="action.sendMessage('지루성피부염');">지루성피부염</button>
                            <button type="button" class="skin-type" onclick="action.sendMessage('아토피');">아토피</button>
                            <button type="button" class="skin-type" onclick="action.sendMessage('유수분밸런스');">유수분밸런스</button>
                            <button type="button" class="skin-type" onclick="action.sendMessage('건조함');">건조함</button>
                            <button type="button" class="skin-type" onclick="action.sendMessage('피지');">피지</button>
                            <button type="button" class="skin-type" onclick="action.sendMessage('모공');">모공</button>
                            <button type="button" class="skin-type" onclick="action.sendMessage('민감');">민감</button>
                            <button type="button" class="skin-type" onclick="action.sendMessage('기미');">기미</button>
                            <button type="button" class="skin-type" onclick="action.sendMessage('주근깨');">주근깨</button>
                            <button type="button" class="skin-type" onclick="action.sendMessage('색소침착');">색소침착</button>
                            <button type="button" class="skin-type" onclick="action.sendMessage('다크서클');">다크서클</button>
                            <button type="button" class="skin-type" onclick="action.sendMessage('모낭염');">모낭염</button>
                            <button type="button" class="skin-type" onclick="action.sendMessage('주름');">주름</button>
                            <button type="button" class="skin-type" onclick="action.sendMessage('탄력');">탄력</button>
                            <button type="button" class="skin-type" onclick="action.sendMessage('비립종');">비립종</button>
                            <button type="button" class="skin-type" onclick="action.sendMessage('접촉피부염');">접촉피부염</button>
                            <button type="button" class="skin-type" onclick="action.sendMessage('염증성여드름');">염증성여드름</button>
                            <button type="button" class="skin-type" onclick="action.sendMessage('편평사마귀');">편평사마귀</button>
                        </div>-->

                    <!-- <li class="message_area">
                        <div class="chat_img circle"></div>
                        <div class="balloon chatbot">
                            <p>
                                ‘홍길순’ 고객님, 반가워요!&#128516; <br>
                                제가 도와드릴 게 있다면 말씀해주세요.
                            </p>
                            <img src="/images/loading.gif" />
                            <div class="sample_que_wrap">
                                <button class="sample_que text-coral" onclick="fnSearchText(event);">요즘 이벤트 뭐있어?</button>
                                <button class="sample_que text-coral" onclick="fnSearchText(event);">내 이벤트 신청 이력 보여줘</button>
                                <button class="sample_que text-coral" onclick="fnSearchText(event);">이벤트 당첨됐는지 확인</button>
                                <button class="sample_que text-coral" onclick="fnSearchText(event);">카드 혜택 뭐있어?</button>
                            </div>
                            <div class="txt_confirm" aria-label="메시지 작성시간">
                                <span class="_time"><em>오전</em> <span>11:20</span></span>
                            </div>
                        </div>
                    </li>
                    <li class="message_area">
                        <div class="balloon user">
                            <p>
                                버튼형식 답변
                            </p>
                            <div class="txt_confirm" aria-label="메시지 작성시간">
                                <span class="_time"><em>오전</em> <span>11:20</span></span>
                            </div>
                        </div>
                    </li>
                    <li class="message_area">
                        <div class="chat_img circle"></div>
                        <div class="balloon chatbot">
                            <p>
                                [마이페이지] > [내정보] >
                                [배송주소록 관리]에서 <br>
                                배송지 등록 및 변경 가능합니다.
                            </p>
                        </div>
                        <div class="buttons_wrap owl-carousel">
                            <button type="button" class="btn green">Button1</button>
                            <button type="button" class="btn green">Button2</button>
                            <button type="button" class="btn green">Button3</button>
                            <button type="button" class="btn green">Button4</button>
                            <button type="button" class="btn green">Button5</button>
                            <button type="button" class="btn green">Button6</button>
                            <button type="button" class="btn green">Button7</button>
                            <button type="button" class="btn green">Button8</button>
                            <button type="button" class="btn green">Button9</button>
                            <button type="button" class="btn green">Button10</button>
                        </div>
                    </li>
                    <li class="message_area">
                        <div class="balloon user">
                            <p>
                                내 피부타입은 ?
                            </p>
                        </div>
                    </li>
                     <li class="message_area">
                        <div class="chat_img circle"></div>
                        <div class="balloon chatbot">
                            <p>
                                제가 4가지 질문을 드릴게요.<br>본인의 피부에 해당하는 지 대답을 선택해주시면 됩니다.
                            </p>
                        </div>
                        <div class="balloon chatbot">
                            <p>
                                첫 번째 질문입니다!<br>평소 얼굴이 번들거리는 편인가요?
                            </p>
                        </div>
                        <div class="buttons_wrap">
                            <button type="button" class="btn_icn icn_oily">
                                <div></div>
                                <p>
                                    네!
                                    <span>(Oily)</span>
                                </p>
                            </button>
                            <button type="button" class="btn_icn icn_dry">
                                <div></div>
                                <p>
                                    아뇨!
                                    <span>(Dry)</span>
                                </p>
                            </button>
                        </div>
                    </li>
                    <li class="message_area">
                        <div class="balloon user">
                            <p>
                                네
                            </p>
                        </div>
                    </li>
                    <li class="message_area">
                        <div class="chat_img circle"></div>
                        <div class="balloon chatbot">
                            <p>
                                화장품 사용 중 염증이나<br>
                                자극이 발생했던 적 있나요?
                            </p>
                        </div>
                        <div class="buttons_wrap">
                            <button type="button" class="btn_icn icn_sensitive">
                                <div></div>
                                <p>
                                    네!
                                    <span>(Sensitive)</span>
                                </p>
                            </button>
                            <button type="button" class="btn_icn icn_resistant">
                                <div></div>
                                <p>
                                    아뇨!
                                    <span>(Resistant)</span>
                                </p>
                            </button>
                        </div>
                    </li>
                     <li class="message_area">
                        <div class="chat_img circle"></div>
                        <div class="balloon chatbot">
                            <p>
                                고객님의 피부 타입은 두구두구두구&#128534;
                            </p>
                        </div>
                        <div class="balloon chatbot">
                            <p>
                                긴급상황 ! 피부 고민 종합 선물 세트 ‘OOOO’로 나왔네요.
                            </p>
                        </div>
                        <div class="balloon chatbot">
                            <p>
                                D - 건조하고, R- 저항성이 있으며 <br>
                                N - 색소 침착이 드물며 W - 주름진 피부!
                            </p>
                        </div>
                        <div class="buttons_wrap">

                        </div>
                    </li>
                    <li class="message_area">
                        <div class="balloon user">
                            <p>
                                네
                            </p>
                        </div>
                    </li> -->
                    <li class="message_area">
                        <div class="chat_img circle"></div>
                        <div class="balloon chatbot">
                            <p><span style="color:#666666">안녕하세요 </span><span style="color:#0070c0"></span><span
                                    style="color:#666666">&nbsp;고객님</span><span style="color:#666666">.</span></p>
                            <div class="txt_confirm" aria-label="메시지 작성시간">
          		<span class="_time">
					<em>오전</em>
					<span>0:14</span>
				</span>
                            </div>
                        </div>
                        <div></div>

                        <div class="balloon chatbot">
                            <p><span style="color:#666666">저는 피부 고민에 도움을 드리는<strong><span
                                    style="color:#666666">멘토G</span></strong><span style="color:#666666"></span><span
                                    style="color:#666666">예요.</span></span></p>
                            <div class="txt_confirm" aria-label="메시지 작성시간">
          		<span class="_time">
					<em>오전</em>
					<span>0:14</span>
				</span>
                            </div>
                        </div>
                        <div></div>

                        <div class="balloon chatbot">
                            <p><span style="color:#666666">무엇을 도와드릴까요?</span></p>
                            <div class="txt_confirm" aria-label="메시지 작성시간">
          		<span class="_time">
					<em>오전</em>
					<span>0:14</span>
				</span>
                            </div>
                        </div>
                        <div></div>
                        <div class="cards_wrap owl-carousel owl-loaded owl-drag" style="visibility: visible;">


                            <div class="owl-stage-outer">
                                <div class="owl-stage"
                                     style="transform: translate3d(0px, 0px, 0px); transition: all 0s ease 0s; width: 700px;">
                                    <div class="owl-item active" style="width: auto; margin-right: 10px;">
                                        <div class="card blue" onclick="action.scenarioCounselor();">
                                            <h3>피부고민<br>상담</h3>
                                            <p>SKIN<br>COUNSELING</p>
                                        </div>
                                    </div>
                                    <div class="owl-item active" style="width: auto; margin-right: 10px;">
                                        <div class="card green" onclick="action.lifeStyle();">
                                            <h3>상황별<br>제품 추천</h3>
                                            <p>T.P.O<br>SKIN CARE</p>
                                        </div>
                                    </div>
                                    <div class="owl-item active" style="width: auto; margin-right: 10px;">
                                        <div class="card peach" onclick="action.testSkinType();">
                                            <h3>내<br>피부타입은?</h3>
                                            <p>SKIN TYPE<br>TEST</p>
                                        </div>
                                    </div>
                                    <div class="owl-item" style="width: auto; margin-right: 10px;">
                                        <div class="card yellow" onclick="action.faq();">
                                            <h3>기타 문의</h3>
                                            <p>ASK TO<br>Dr.G</p>
                                        </div>
                                    </div>
                                    <div class="owl-item" style="width: auto; margin-right: 10px;">
                                        <div class="card gray" onclick="action.connectCounsellor();">
                                            <h3>상담원<br>연결</h3>
                                            <p>CALL TO<br>Dr.G</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="owl-nav">
                                <button type="button" role="presentation" class="owl-prev disabled"><img
                                        src="/images/left.png"></button>
                                <button type="button" role="presentation" class="owl-next"><img src="/images/right.png">
                                </button>
                            </div>
                            <div class="owl-dots">
                                <button role="button" class="owl-dot active"><span></span></button>
                                <button role="button" class="owl-dot"><span></span></button>
                                <button role="button" class="owl-dot"><span></span></button>
                                <button role="button" class="owl-dot"><span></span></button>
                            </div>
                        </div>
                    </li>
                </ul>
                <!-- //message_wrapper -->
                <!-- search_list -->
                <div class="search_list">
                    <ul>
                        <li><b>여드름</b> 피부에 괜찮은 제품을 써야 할까요?</li>
                        <li><b>여드름</b>이 났는데 짜야 하나요?</li>
                        <li><b>여드름</b> 피부는 어떻게 세안해야 하나요?</li>
                        <li><b>여드름</b>피부 관리법을 알고싶어요.</li>
                    </ul>
                </div>
                <!-- //search_list -->
            </div>
            <!-- //contents -->
        </main>
        <footer id="footer">
            <button type="button" class="icn_search"></button>
            <input type="text" class="quetext ui-autocomplete-input" placeholder="메세지를 입력해주세요." autocomplete="off">
            <!--<input type="text" class="quetext" placeholder="메세지를 입력해주세요." oninput="oninput_inputTalk();" onkeydown="onkeydown_inputTalk(event);">-->
            <button type="button" class="icn_submit" onclick=""></button>
        </footer>
    </div>

    <ul id="ui-id-1" tabindex="0" class="ui-menu ui-widget ui-widget-content ui-autocomplete highlight ui-front"
        style="display: none;"></ul>
    <div role="status" aria-live="assertive" aria-relevant="additions" class="ui-helper-hidden-accessible"></div>
    </body>
    </html>

</iframe>

